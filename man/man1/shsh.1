.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.47.15.
.TH SHSH "1" "July 2020" "shell script handler v2.2.1" "User Commands"
.SH NAME
shsh \- manual page for shsh v2.2.1
.SH SYNOPSIS
.B shsh
\fI\,<command> \/\fR[\fI\,<args>\/\fR] [\fI\,--verbose\/\fR]
.SH DESCRIPTION
A versatile shell scripts handler
.SS "Some useful shsh commands are:"
.TP
cleanup
Cleanup all broken links
.TP
commands
List all available shsh commands
.TP
completions
List completions for a command.
.TP
help
Display help for a command
.TP
init
Configure the shell environment for shsh
.TP
install
Installs a package from github (or a custom site)
.TP
link
Installs a local directory as a shsh package
.TP
list
List installed packages
.TP
outdated
Displays a list of outdated packages
.TP
package\-path
Outputs the path for a package
.TP
refresh
Refresh a package by unlinking and relinking everything
.TP
self\-upgrade
Upgrades to latest version of shsh
.TP
uninstall
Uninstalls a package
.TP
upgrade
Upgrades a package
.PP
See `shsh <command> \fB\-\-help\fR` or `man shsh\-<command>` for specific help.
.SH OPTIONS
.TP
\fB\-\-help\fR
display help message for any commands
.TP
\fB\-\-version\fR
output version information and exit
.TP
\fB\-\-verbose\fR
display more info for some commands
.SH "SUBCMD: SHSH CLEANUP"
.B shsh
\fI\,cleanup\/\fR
.SS DESCRIPTION
Cleanup all broken links
.PP
Check all links within the cellar directories and remove all broken
links, i.e., delete all broken links in cellar/{bin,completions,man}
.SS OPTIONS
.TP
\fB\-d\fR, \fB\-\-dry\fR
perform a dry run of echoing what will be done
but do not perform any actual removal
.SH "SUBCMD: SHSH COMMANDS"
.B shsh
\fI\,commands\/\fR
.SS DESCRIPTION
List all available shsh commands
.PP
List out all the available commands that are intended to
be public. This does not contains any underscored (private)
commands.
.SH "SUBCMD: SHSH COMPLETIONS"
.B shsh
\fI\,completions <command>\/\fR
.SS DESCRIPTION
List completions for a command.
.PP
In order to support completions, a command must have a comment
with the 'completions' TAG and provide a '\-\-completions' argument.
.SH "SUBCMD: SHSH HELP"
.B shsh
\fI\,help \/\fR[\fI\,--usage\/\fR] \fI\,COMMAND\/\fR
.SS DESCRIPTION
Display help for a command
.PP
Parses and displays help contents from a command's source file.
.PP
A command is considered documented if it starts with a comment block
that has a `Summary:' or `Usage:' section. Usage instructions can
span multiple lines as long as subsequent lines are indented.
The remainder of the comment block is displayed as extended
documentation.
.SH "SUBCMD: SHSH INIT"
.B eval
\fI\,"$(shsh init SHELL)"\/\fR
.SS DESCRIPTION
Configure the shell environment for shsh
.PP
SHELL: sh, bash, zsh, fish, etc.
.SH "SUBCMD: SHSH INSTALL"
.B shsh
\fI\,install \/\fR[\fI\,--ssh\/\fR] [\fI\,site\/\fR]\fI\,/<package>\/\fR[\fI\,@ref\/\fR] [\fI\,folder\/\fR] [\fI\,-h|--hook <hook>\/\fR]
.SS DESCRIPTION
Installs a package from github (or a custom site)
.IP
.SH "\-V|\-\-VARIABLE <VAR>=<VAL>"
.SS OPTIONS
.HP
\fB\-h\fR, \fB\-\-hook\fR <HOOK_TYPE>[=<CONTENT>]
.IP
add HOOK to this package, which is triggered while
installing or upgrading a package
.HP
\fB\-v\fR \fB\-\-variable\fR <VAR>=<VAL>
.IP
set a variable VAR with value VAL,
useful for setting up files for linking
.TP
\fB\-\-verbose\fR
display more info for some commands
.SS "Hook types:"
.TP
pre=<SCRIPT>
Any arbitrary POSIX script that runs before linking.
.TP
post=<SCRIPT>
Any arbitrary POSIX script that runs after linking.
.TP
uninstall=<...>
Any arbitrary POSIX script that runs before uninstalling.
For the above hooks, if multiples are given, the older
one will be overriden.
.TP
+x=<FILE>
Before linking, adds executable bit to the FILE. If
multiples are given, they will be run in sequential order.
.TP
a+x
Before linking, add executable bit to all files.
.SS EXAMPLES
.TP
shsh install soraxas/dot\-reminder
install 'soraxas/dot\-reminder' as a package
.TP
shsh install \-\-ssh <package>
install with ssh protocal (rather than https)
.TP
shsh install <package> \-v FISH_COMPLETIONS=synoservice.fish:forgit.fish
link 'synoservice.fish' and 'forgit.fish' as fish
completion files
.TP
shsh install <package> \-\-hook pre="mv bin/foo bin/bar"
Execute the script "mv bin/foo bin/bar" before `shsh`
performs linking (e.g. this script renames the binary)
.TP
shsh install <package> \-\-hook +x=foobar
add a hook that add executable bits to the file 'foobar',
before linking is performed
.TP
shsh install <package> \-h pre='make all' \-h post='rm \-r build/*'
add a hook that runs 'make all' to build binaries, right
after cloning and before linking is performed. Then,
linking is performed with its usual rules (i.e. all
executable files in root and in bin/). Finally,
\&'rm \-r build/*' is ran to remove leftovers.
.SH "SUBCMD: SHSH LINK"
.B shsh
\fI\,link \/\fR[\fI\,--no-deps\/\fR] \fI\,<directory> <package>\/\fR
.SS DESCRIPTION
Installs a local directory as a shsh package
.PP
Installs a local directory as a shsh package
.SH "SUBCMD: SHSH LIST"
.B shsh
\fI\,list \/\fR[\fI\,-d|--details\/\fR]
.SS DESCRIPTION
List installed packages
.SS OPTIONS
.TP
\fB\-d\fR, \fB\-\-details\fR
display the URL of the repository
.SH "SUBCMD: SHSH OUTDATED"
.B shsh
\fI\,outdated \/\fR[\fI\,-q|--quiet\/\fR]
.SS DESCRIPTION
Displays a list of outdated packages
.PP
Displays a list of outdated packages
.SH "SUBCMD: SHSH PACKAGE PATH"
.B source
\fI\,"$(shsh package-path <package>)/file.sh"\/\fR
.SS DESCRIPTION
Outputs the path for a package
.PP
Outputs the path for a package
.SH "SUBCMD: SHSH REFRESH"
.B shsh
\fI\,refresh <package> \/\fR[\fI\,--verbose\/\fR] [\fI\,-a|--all\/\fR]
.SS DESCRIPTION
Refresh a package by unlinking and relinking everything
.PP
Note: verbose has no effect if \fB\-\-all\fR is specified, as they run in subshells
.SH "SUBCMD: SHSH SELF UPGRADE"
.B shsh
\fI\,self-upgrade\/\fR
.SS DESCRIPTION
Upgrades to latest version of shsh
.PP
Upgrades to latest version of shsh
.SH "SUBCMD: SHSH UNINSTALL"
.B shsh
\fI\,uninstall <package>\/\fR
.SS DESCRIPTION
Uninstalls a package
.PP
Uninstalls a package
.SH "SUBCMD: SHSH UPGRADE"
.B shsh
\fI\,upgrade <package|\/\fR[\fI\,-a|--all\/\fR]\fI\,>\/\fR
.SS DESCRIPTION
Upgrades a package
.PP
Upgrades a package
.SH ENVIRONMENT
The following environment variables has effects in `shsh` of
changing the default directories of stored files.
.TP
XDG_DATA_HOME
directory of shsh's root, i.e.
SHSH_ROOT=$XDG_DATA_HOME/shsh
[default: ~/.config]
.TP
SHSH_PREFIX
directory to store everything
[default: $SHSH_ROOT/cellar]
.TP
SHSH_PACKAGES_PATH
directory to store packages
[default: $SHSH_PREFIX/packages]
.TP
SHSH_INSTALL_BIN
directory to store bins
[default: $SHSH_PREFIX/bin]
.TP
SHSH_INSTALL_MAN
directory to store mans
[default: $SHSH_PREFIX/man]
.PP
The following environment variables changes `shsh`'s linking
behaviour by overriding/customising the list of files to be
linked into cellar. They can be specified by 'package.sh' (see
repository), or by the \fB\-\-variable\fR flag in `shsh install`, or
by running `shsh` with the following environmental variables.
Note that all of the following variables can be a colon separated
list that follows the PATH variable convention, e.g. FOO:BAR
.TP
BINS
list of binary/script files to link
[default: all executable files in root and bin/*]
.TP
MANS
list of man pages to link
[default: all files in man/*.[0\-9] and
man/man.[0\-9]/*.[0\-9]]
.TP
BASH_COMPLETIONS
list of bash shell completion files to link
.TP
ZSH_COMPLETIONS
list of zsh shell completion files to link
.TP
FISH_COMPLETIONS
list of fish shell completion files to link
[default: all files in completions/*.fish and
completions/fish/*.fish]
.SH EXAMPLES
.TP
shsh install user/repo
install 'user/repo' as a package
.TP
shsh list
list all installed packages
.TP
shsh outdated
check against upstream on repos' status
.TP
shsh upgrade \-\-all
upgrade all installed packages
.TP
shsh uninstall user/repo
uninstall the package 'user/repo'
.SH AUTHOR
Written by Tin Lai (@soraxas)
.SH "REPORTING BUGS"
Report bugs to <oscar@tinyiu.com>, or https://github.com/soraxas/shsh
.SH COPYRIGHT
Copyright \(co 2014 Juan Ibiapina, 2020 Tin Lai (@soraxas)
.br
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.SH "SEE ALSO"
.B shsh (1),
.B shsh-cleanup (1),
.B shsh-commands (1),
.B shsh-completions (1),
.B shsh-help (1),
.B shsh-init (1),
.B shsh-install (1),
.B shsh-link (1),
.B shsh-list (1),
.B shsh-outdated (1),
.B shsh-package-path (1),
.B shsh-refresh (1),
.B shsh-self-upgrade (1),
.B shsh-uninstall (1),
.B shsh-upgrade (1)
